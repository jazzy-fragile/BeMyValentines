<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Georgia', serif;
  overflow: hidden;
}

/* BACKGROUND */
body {
  background-image: url("https://i.pinimg.com/1200x/4a/41/e9/4a41e91df53c7c93dc8bbc218f9f0e69.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* OVERLAY */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
}

/* CENTER */
.center {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* TITLE */
.title {
  color: #ff1f1f;
  font-size: 56px;
  font-weight: 900;
  text-shadow: 0 6px 18px rgba(0,0,0,0.8);
  text-align: center;
  margin-bottom: 6px;
  transform: translateY(-70px);
}

/* WORD ANIMATION */
.word {
  opacity: 0;
  display: inline-block;
  margin-right: 10px;
  animation: wordIn 0.6s ease forwards;
}

@keyframes wordIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

/* CUTOUT IMAGE */
.cutout {
  width: 260px;
  filter: drop-shadow(0 18px 30px rgba(0,0,0,0.7));
  transform: translateY(-70px);
  opacity: 0;
  transition: opacity 0.8s ease;
}

/* BUTTONS */
.buttons {
  margin-top: -40px;
  width: 320px;
  display: flex;
  justify-content: space-between;
}

button {
  width: 120px;
  height: 46px;
  border-radius: 23px;
  border: none;
  font-size: 16px;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.6s ease, transform 0.35s ease;
}

#yes {
  background: #ff4b6e;
  color: white;
}

#no {
  background: #eee;
  position: relative;
}

/* MESSAGE */
#hint {
  margin-top: 14px;
  font-size: 16px;
  color: white;
  opacity: 0;
  transition: opacity 0.4s ease;
}

/* HEART OVERLAY */
#heartScreen {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.heart-wrapper {
  position: relative;
  width: 260px;
  height: 240px;
}

.heart {
  width: 260px;
  height: 240px;
  background: red;
  transform: rotate(-45deg);
  position: absolute;
  inset: 0;
  animation: pop 0.8s ease-out forwards;
}

.heart::before,
.heart::after {
  content: '';
  width: 260px;
  height: 240px;
  background: red;
  border-radius: 50%;
  position: absolute;
}

.heart::before { top: -130px; }
.heart::after { left: 130px; }

.heart-text {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translateY(-20px);
  color: white;
  font-size: 26px;
  font-weight: bold;
  text-align: center;
  opacity: 0;
  transition: opacity 0.6s;
  z-index: 2;
}

/* ANIMATION */
@keyframes pop {
  from { transform: rotate(-45deg) scale(0.2); }
  to { transform: rotate(-45deg) scale(1); }
}

/* MOBILE */
@media (max-width: 768px) {
  .title { font-size: 38px; transform: translateY(-40px); padding: 0 16px; }
  .cutout { width: 200px; transform: translateY(-50px); }
  .buttons { width: 260px; margin-top: -20px; }
  button { width: 110px; height: 44px; }
  .heart-wrapper { transform: scale(0.85); }
  .heart-text { font-size: 22px; }
}

/* LOCK SCROLL */
.lock-scroll { overflow: hidden; }
</style>
</head>

<body>

<div class="overlay"></div>

<div class="center">
  <div class="title">
    <span class="word" style="animation-delay:0s">Sasha,</span>
    <span class="word" style="animation-delay:0s">will</span>
    <span class="word" style="animation-delay:0.6s">you</span>
    <span class="word" style="animation-delay:1.2s">be</span>
    <span class="word" style="animation-delay:1.8s">my</span>
    <span class="word" style="animation-delay:2.4s">Valentine?</span>
  </div>

  <img class="cutout" id="cutout"
    src="https://i.postimg.cc/rsfkNJ0K/download.png"
    alt="Valentine illustration" />

  <div class="buttons">
    <button id="yes">YES</button>
    <button id="no">NO</button>
  </div>

  <div id="hint">No is a little shyâ€¦ try the other option ðŸ™‚</div>
</div>

<div id="heartScreen">
  <div class="heart-wrapper">
    <div class="heart"></div>
    <div class="heart-text" id="heartText">
      Itâ€™s Babyâ€™s Day Out
    </div>
  </div>
</div>

<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const heartScreen = document.getElementById("heartScreen");
const hint = document.getElementById("hint");
const heartText = document.getElementById("heartText");
const cutout = document.getElementById("cutout");

let escaping = false;
let attempts = 0;
const isMobile = window.matchMedia("(max-width: 768px)").matches;

/* SEQUENCE */
setTimeout(() => cutout.style.opacity = 1, 3200);
setTimeout(() => yesBtn.style.opacity = 1, 4000);
setTimeout(() => noBtn.style.opacity = 1, 4600);

/* NO AVOID */
function handleAvoid(x, y) {
  if (escaping || noBtn.style.opacity === "0") return;

  const rect = noBtn.getBoundingClientRect();
  const dist = Math.hypot(
    x - (rect.left + rect.width / 2),
    y - (rect.top + rect.height / 2)
  );

  if (dist < (isMobile ? 90 : 120)) {
    escaping = true;
    attempts++;

    let moveX, moveY;
    if (isMobile) {
      moveX = Math.random() * 120 - 60;
      moveY = Math.random() * 180 + 60;
      if (navigator.vibrate) navigator.vibrate(10);
    } else {
      moveX = Math.random() * 600 - 300;
      moveY = Math.random() * 300 - 150;
    }

    noBtn.style.transform = `translate(${moveX}px, ${moveY}px)`;

    if (attempts >= 3) hint.style.opacity = 1;
    setTimeout(() => escaping = false, 450);
  }
}

document.addEventListener("mousemove", e => handleAvoid(e.clientX, e.clientY));
document.addEventListener("touchmove", e => {
  const t = e.touches[0];
  if (t) handleAvoid(t.clientX, t.clientY);
});

/* YES */
yesBtn.addEventListener("click", () => {
  heartScreen.style.display = "flex";
  document.body.classList.add("lock-scroll");
  setTimeout(() => heartText.style.opacity = 1, 800);
});
</script>

</body>
</html>
